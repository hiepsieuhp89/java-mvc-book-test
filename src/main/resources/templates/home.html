<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head th:replace="layout/main :: head('Trang chủ')">
    <!-- Nội dung này sẽ bị thay thế bởi fragment head -->
</head>

<body>
    <div th:replace="layout/main :: body(content=~{::div.content})">
        <div class="content">
            <!-- Hero Section -->
            <div class="d-none d-lg-block">
                <div class="row g-0 mt-5">
                    <div class="col-sm-6 col-md-6">
                        <div class="col-image-left" style="background-image: url('https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80'); background-position: center; background-size: cover; border-radius: 0 5px 5px 0; box-shadow: 0 10px 30px rgba(0,0,0,0.1);"></div>
                    </div>
                    <div class="col-4 col-md-4 container d-flex justify-content-center align-items-center">
                        <div class="ml-2">
                            <h1 class="display-4 fw-bold" style="color: #333; font-family: 'Roboto', sans-serif;">Bạn đang tìm kiếm cuốn sách nào?</h1>
                            <p class="lead" style="color: #666; font-size: 1.2rem;">
                                Đội ngũ của chúng tôi sẽ giúp bạn tìm cuốn sách tiếp theo để đọc
                            </p>
                            <a class="btn main-color btn-lg text-white" th:href="@{/search}" style="padding: 12px 30px; border-radius: 30px; font-weight: 600; box-shadow: 0 5px 15px rgba(14, 118, 168, 0.3); transition: all 0.3s;">Khám phá sách</a>
                        </div>
                    </div>
                </div>
                <div class="row g-0">
                    <div class="col-4 col-md-4 container d-flex 
                            justify-content-center align-items-center">
                        <div class="ml-2">
                            <h1 class="display-4 fw-bold" style="color: #333; font-family: 'Roboto', sans-serif;">Quá trình của chúng tôi</h1>
                            <p class="lead" style="color: #666; font-size: 1.2rem;">
                                Chúng tôi sẽ làm việc với bạn để tìm ra những cuốn sách hoàn hảo cho bạn.
                            </p>
                        </div>
                    </div>
                    <div class="col-sm-6 col-md-6">
                        <div class="col-image-right" style="background-image: url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80'); background-position: center; background-size: cover; border-radius: 5px 0 0 5px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);"></div>
                    </div>
                </div>
            </div>

            <!-- Mobile Hero Section -->
            <div class="d-lg-none">
                <div class="container">
                    <div class="m-2">
                        <div class="col-image-left" style="background-image: url('https://images.unsplash.com/photo-1513475382585-d06e58bcb0e0?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80'); height: 250px; background-position: center; background-size: cover; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);"></div>
                        <div class="mt-4">
                            <h1 class="h2 fw-bold" style="color: #333;">Bạn đang tìm kiếm cuốn sách nào?</h1>
                            <p class="lead" style="color: #666; font-size: 1.1rem;">
                                Đội ngũ của chúng tôi sẽ giúp bạn tìm cuốn sách tiếp theo để đọc
                            </p>
                            <a class="btn main-color btn-lg text-white" th:href="@{/search}" style="padding: 10px 25px; border-radius: 30px; font-weight: 600; box-shadow: 0 5px 15px rgba(14, 118, 168, 0.3);">Khám phá sách</a>
                        </div>
                    </div>
                    <div class="m-2 mt-5">
                        <div class="col-image-right" style="background-image: url('https://images.unsplash.com/photo-1524995997946-a1c2e315a42f?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80'); height: 250px; background-position: center; background-size: cover; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);"></div>
                        <div class="mt-4">
                            <h1 class="h2 fw-bold" style="color: #333;">Quá trình của chúng tôi</h1>
                            <p class="lead" style="color: #666; font-size: 1.1rem;">
                                Chúng tôi sẽ làm việc với bạn để tìm ra những cuốn sách hoàn hảo cho bạn.
                            </p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Featured Books Section -->
            <div class="container mt-5" style="height: 550px;">
                <div class="homepage-carousel-title">
                    <h3 style="font-size: 2.2rem; font-weight: 700; position: relative; display: inline-block; padding-bottom: 15px; color: #333;">Tìm cuốn sách hoàn hảo của bạn</h3>
                </div>
                <div id="carouselExampleControls" class="carousel carousel-dark slide mt-5 
                        d-none d-lg-block" data-bs-interval="false">
                    <!-- Desktop -->
                    <div class="carousel-inner">
                        <div class="carousel-item active">
                            <div class="row d-flex justify-content-center align-items-center">
                                <div th:each="book, iterStat : ${books}" th:if="${iterStat.index < 3}"
                                    class="col-xs-6 col-sm-6 col-md-4 col-lg-3 mb-3">
                                    <div class="text-center book-card" style="padding: 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: transform 0.3s, box-shadow 0.3s;">
                                        <img th:src="${book.image}" width="151" height="233" alt="book" style="border-radius: 5px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);" />
                                        <h6 class="mt-3 fw-bold" th:text="${book.title}" style="color: #333;">Book Title</h6>
                                        <p th:text="${book.author}" style="color: #666;">Author</p>
                                        <a class="btn main-color text-white" th:href="@{/book/{id}(id=${book.id})}" style="border-radius: 30px; padding: 8px 20px; font-weight: 600;">Chi tiết</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="row d-flex justify-content-center align-items-center">
                                <div th:each="book, iterStat : ${books}"
                                    th:if="${iterStat.index >= 3 && iterStat.index < 6}"
                                    class="col-xs-6 col-sm-6 col-md-4 col-lg-3 mb-3">
                                    <div class="text-center book-card" style="padding: 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: transform 0.3s, box-shadow 0.3s;">
                                        <img th:src="${book.image}" width="151" height="233" alt="book" style="border-radius: 5px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);" />
                                        <h6 class="mt-3 fw-bold" th:text="${book.title}" style="color: #333;">Book Title</h6>
                                        <p th:text="${book.author}" style="color: #666;">Author</p>
                                        <a class="btn main-color text-white" th:href="@{/book/{id}(id=${book.id})}" style="border-radius: 30px; padding: 8px 20px; font-weight: 600;">Chi tiết</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="carousel-item">
                            <div class="row d-flex justify-content-center align-items-center">
                                <div th:each="book, iterStat : ${books}" th:if="${iterStat.index >= 6}"
                                    class="col-xs-6 col-sm-6 col-md-4 col-lg-3 mb-3">
                                    <div class="text-center book-card" style="padding: 20px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: transform 0.3s, box-shadow 0.3s;">
                                        <img th:src="${book.image}" width="151" height="233" alt="book" style="border-radius: 5px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);" />
                                        <h6 class="mt-3 fw-bold" th:text="${book.title}" style="color: #333;">Book Title</h6>
                                        <p th:text="${book.author}" style="color: #666;">Author</p>
                                        <a class="btn main-color text-white" th:href="@{/book/{id}(id=${book.id})}" style="border-radius: 30px; padding: 8px 20px; font-weight: 600;">Chi tiết</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleControls"
                        data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleControls"
                        data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>

                <!-- Mobile -->
                <div class="d-lg-none mt-3">
                    <div class="row d-flex justify-content-center align-items-center">
                        <div th:each="book, iterStat : ${books}" th:if="${iterStat.index < 4}"
                            class="col-xs-6 col-sm-6 col-md-4 col-lg-3 mb-4">
                            <div class="text-center book-card" style="padding: 15px; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); transition: transform 0.3s, box-shadow 0.3s;">
                                <img th:src="${book.image}" width="130" height="200" alt="book" style="border-radius: 5px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);" />
                                <h6 class="mt-3 fw-bold" th:text="${book.title}" style="color: #333; font-size: 0.9rem;">Book Title</h6>
                                <p th:text="${book.author}" style="color: #666; font-size: 0.8rem;">Author</p>
                                <a class="btn main-color text-white" th:href="@{/book/{id}(id=${book.id})}" style="border-radius: 30px; padding: 6px 15px; font-weight: 600; font-size: 0.8rem;">Chi tiết</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="homepage-carousel-title mt-5">
                    <a class="btn btn-outline-secondary btn-lg" th:href="@{/search}" style="border-radius: 30px; padding: 10px 30px; font-weight: 600; transition: all 0.3s;">Xem thêm</a>
                </div>
            </div>

            <!-- Services -->
            <div class="container my-5">
                <div class="row p-4 align-items-center border shadow-lg" style="border-radius: 15px; background-color: #fafafa;">
                    <div class="col-lg-7 p-4">
                        <h1 class="display-4 fw-bold" style="color: #333;">Bạn không thể tìm thấy những gì bạn đang tìm kiếm?</h1>
                        <p class="lead" style="color: #666; font-size: 1.2rem;">
                            Nếu bạn không thể tìm thấy những gì bạn đang tìm kiếm,
                            hãy gửi tin nhắn cho chúng tôi!
                        </p>
                        <div class="d-grid gap-2 justify-content-md-start mb-4 mb-lg-3">
                            <a th:href="@{/messages}" class="btn main-color btn-lg text-white" style="border-radius: 30px; padding: 12px 30px; font-weight: 600; box-shadow: 0 5px 15px rgba(14, 118, 168, 0.3);">Liên hệ</a>
                        </div>
                    </div>
                    <div class="col-lg-4 offset-lg-1 shadow-lg lost-image" 
                         style="background-image: url('https://images.unsplash.com/photo-1532012197267-da84d127e765?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80'); 
                                height: 25em; background-position: center; background-size: cover; 
                                border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.1);"></div>
                </div>
            </div>

            <!-- Add Custom Javascript -->
            <script>
                // Add hover effect to book cards
                document.addEventListener('DOMContentLoaded', function() {
                    const bookCards = document.querySelectorAll('.book-card');
                    bookCards.forEach(card => {
                        card.addEventListener('mouseenter', function() {
                            this.style.transform = 'translateY(-10px)';
                            this.style.boxShadow = '0 15px 30px rgba(0,0,0,0.1)';
                        });
                        card.addEventListener('mouseleave', function() {
                            this.style.transform = 'translateY(0)';
                            this.style.boxShadow = '0 5px 15px rgba(0,0,0,0.05)';
                        });
                    });
                });
            </script>
        </div>
    </div>
</body>

</html>